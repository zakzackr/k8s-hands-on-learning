# k8s-hands-on-learning

## Keywords

**マニフェスト**  
Kubernetes リソース（Pod、Deployment、Service など）の設定を定義した YAML/JSON ファイル。

**Pod**  
Pod は kubernetes における最小のデプロイ単位で、ストレージやネットワークを共有する、1 つ以上のコンテナ群。  
コンテナには単一のアプリケーションだけを含めることが一般的だが、Pod を使用することでそれらを保ちながら関連のあるアプリケーションをまとめて扱うことができる。

**Deployment**  
稼働する Pod 群を管理する。Pod のスケーリング、アップデート、自動復旧などを担当する。

**StatefulSet**  
StatefulSet は、ステートフルな Pod 管理に使用される。各 Pod に固有のボリュームを割り当てることでデータを永続化でき、Pod を削除・再起動しても一貫したデータを保持できる。各 Pod をインデックスで一意に識別・管理することで、正しい順序（インデックス順）で Pod の起動・終了が可能。

**DaemonSet**  
各ノードに Pod のコピーが 1 つずつ実行されている状態を維持する機能。クラスタにノードが追加されたり、DaemonSet の Pod が稼働しているべきノード上で稼働していないとき、Pod を作成する。

Deployment では、ノードにしばられず「クラスタ上で X 個の Pod を起動・管理する」。この点が、DaemonSet とは異なる。

**Jobs**  
Job は、1 つ以上の Pod を単発で実行する。具体的には、成功する必要のある Pod 数、再実行ポリシー、許容する失敗回数などをマニフェストで設定することで、k8s がそれに従い Pod をデプロイ・実行して、指定した数の Pod が正常終了するまで Pod を再実行する。Cron フォーマットで実行スケジュールを指定し、Job を定期実行する CronJob という機能もある。

継続的にサービスを提供する Deployment とは対照的。

**ConfigMap, Secret**  
ConfigMap、Secret は、コンテナイメージと環境依存の情報や機密情報を独立して管理できるようにする。
ConfigMap は、Pod に対して環境変数やボリュームという形で非機密データを提供する。Secret は、認証情報などの機密データを提供する。

**Volume**  
_Persistent Volumes_  
Pod とは独立のライフタイムを持ち、Pod が削除されてもデータは残る。

_Ephemeral Volumes_  
Pod と同じライフタイムを持ち、Pod が終了するとボリュームも削除される。ノード上の空のディレクトリやメモリをボリュームとして用いる emptyDir ボリュームがその一例。

**Service**  
Service は、ロードバランシング機能により、あるサービスを提供する Pod 群に対し共通の IP アドレスでのアクセスを可能にする。Pod は起動・削除のたびに IP アドレスが変更されるため、常に Service の IP アドレスを提供できるという点で有用。また、クラスタ内 DNS に Service の情報が登録されるため、クラスタ内では Service 名で Service にアクセスできる。

<!-- **Service の外部公開** -->
